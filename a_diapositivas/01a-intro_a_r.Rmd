---
title: "Introducci√≥n al Procesamiento de Datos con R"
subtitle: "<a style='float:left'></div><hr color='#EB811B' size=1px width=1125px>"
author: '<a href="https://linktr.ee/estacion_r"><img src="../estilo/logo/Logo_PNG_Alta_Mesa de trabajo 1 copia 4.png" alt="estacion-R logo" style="width:320px;height:270px;">
</a>'
output:
  xaringan::moon_reader:
    self_contained: true
    css: ../estilo/presentation_styles.css
    includes:
      after_body: ../estilo/insert-logo.html
    lib_dir: libs
    nature:
      ratio: 16:9
      highlightStyle: github
      highlightLines: true
      highlightSpans: true
      countIncrementalSlides: false
---


```{r, include = F}
# This is the recommended set up for flipbooks
# you might think about setting cache to TRUE as you gain practice --- building flipbooks from scratch can be time consuming
#knitr::opts_chunk$set(fig.width = 10, message = FALSE, warning = FALSE)

options(htmltools.dir.version = FALSE,
        tibble.width = NULL)

knitr::opts_chunk$set(collapse = TRUE,
                      fig.retina = 3,
                      fig.width = 10,
                      out.width = 300, ### control plot size
                      #cache = TRUE,
                      warning = FALSE,
                      message = FALSE,
                      comment = "", 
                      cache = FALSE)


library(flipbookr)
library(tidyverse)
library(xaringan)
library(xaringanthemer)
library(xaringanExtra)
library(gt)
#remotes::install_github("mitchelloharawild/icons")
library(icons)
library(here)
library(countdown)
```


```{r xaringan-panelset, echo=FALSE}
xaringanExtra::use_panelset()

xaringanExtra::style_panelset_tabs(
  active_foreground = "#0051BA",
  hover_foreground = "#d22",
  font_family = "Roboto"
)
```


# Hoja de ruta


<br>

üìå ¬øQu√© es R?

üìåÔ∏è R vs Rstudio

üìåÔ∏è Primeros pasos en R

üìåÔ∏è Funciones yÔ∏è Paquetes

üìåÔ∏è Proyectos de trabajo

üìåÔ∏è Conviviendo con el error - Ayuda en R


---
class: inverse, center, middle, hide-logo

# ¬øQu√© es R?

<html>
  <div style='float:left'></div>
  <hr color='#EB811B' size=1px width=1125px>
</html>

---
class: center, middle

<img src="../img/clase_1/r_miedo.jpg" alt="miedo_r" width="1000"/>

---
# ¬øQu√© es R?


- R es un lenguaje y entorno para computaci√≥n estad√≠stica y gr√°ficos

--

- M√°s de 30 a√±os de desarollo (nace en 1993)

--

- La _**lingua franca**_ de la estad√≠stica

--

- Es Software libre (gratuito) y de c√≥digo abierto (transparente)

---
# ¬øPor qu√© R?

- Dise√±ado para el an√°lisis estad√≠stico y comunicaci√≥n de la informaci√≥n

--

- Permite lidiar con grandes vol√∫menes de datos

--

- Sintaxis "para humanos"

--

- Permite la automatizaci√≥n de tareas

--

- Crece a partir de su comunidad (no depende de la voluntad de una empresa)

  - Academia / Investigaci√≥n Cient√≠fica
  
  - Sector privado
  
  - "Gente de a pie"

.

--- 
### Punto de inflexi√≥n en la historia de R

<br>

- 2016: Nace la colecci√≥n de paquetes llamada `tidyverse`

- Menos foco en la mec√°nica del lenguaje / M√°s foco en un lenguaje "para humanos", simplificaci√≥n de la sintaxis

---
class: inverse, center, middle, hide-logo

# R y Rstudio

<html>
  <div style='float:left'></div>
  <hr color='#EB811B' size=1px width=1125px>
</html>

---
# R y Rstudio

.pull-left[

**R** = El motor

<img src="../img/clase_1/r_motor.jpeg" alt="miedo_r" width="300"/>

__R es un lenguaje de programaci√≥n que ejecuta c√≥mputos.__
]

.pull-right[

**Rstudio** = Tablero de control

<img src="../img/clase_1/r_tablero.jpeg" alt="miedo_r" width="300"/>

__RStudio es un entorno de desarrollo integrado (IDE) que proporciona una interfaz al agregar muchas funciones y herramientas convenientes__
]

---
# R y Rstudio

- Una vez instalados los programas, debemos siempre abrir **Rstudio** y no **R**:

.pull-left[

‚ùå

<img src="../img/clase_1/consola_r.png" alt="miedo_r" width="400"/>

]

.pull-right[

‚úÖ

<img src="../img/clase_1/consola_r_studio_ok.png" alt="miedo_r" width="600"/>

]

---
class: inverse, center, middle, hide-logo

# ¬°Vamos a Rstudio!

---

<img src="../img/clase_1/consola_r_studio.png" alt="miedo_r" width="1200"/>

---
# Configuraci√≥n b√°sica de Rstudio

<br>

- Identificar las 4 ventanas principales 

<br>

- Cambiar la apariencia de la plataforma 

<br>

- Setear en Opciones Globales (Global Options) la configuraci√≥n General

---
# Configuraci√≥n b√°sica de Rstudio

<br>

- Identificar las 4 ventanas principales ‚úÖ

<br>

- Cambiar la apariencia de la plataforma 

<br>

- Setear en Opciones Globales (Global Options) la configuraci√≥n General

---
# Configuraci√≥n b√°sica de Rstudio

<br>

- Identificar las 4 ventanas principales ‚úÖ

<br>

- Cambiar la apariencia de la plataforma ‚úÖ

<br>

- Setear en Opciones Globales (Global Options) la configuraci√≥n General

---
# Configuraci√≥n b√°sica de Rstudio

<br>

- Identificar las 4 ventanas principales ‚úÖ

<br>

- Cambiar la apariencia de la plataforma ‚úÖ

<br>

- Setear en Opciones Globales (Global Options) la configuraci√≥n General ‚úÖ

---
# Primeros pasos: conceptos b√°sicos de R

- En R la unidad m√≠nima para trabajar son los _valores_:

#### - `1` es un valor (num√©rico), 

--

#### - `"uno"` es un valor (c√°racter),

--

#### - `"1"` es un valor (c√°racter) y

--

#### - `"Esto es un uno"` tambi√©n es un valor (c√°racter).


---
class: inverse, center, middle, hide-logo

# VECTORES

<html>
  <div style='float:left'></div>
  <hr color='#EB811B' size=1px width=1125px>
</html>



---
# Vectores

- A un conjunto de valores lo llamaremos __vector__ y R los interpretar√° bajo el comando `c()`. 

- Los vectores, como los valores, tambi√©n ser√°n (**s√≥lo**) de un tipo determinado:

--

#### - Vector num√©rico (_numeric_)

```r
c(1, 2, 3, 4, 5)
```

--

```r
c(1:5)
```


--

#### - Vector de texto (_character_)

```r
c("uno", "dos", "tres", "cuatro", "cinco")
```

---



class: inverse, center, middle, hide-logo

# FUNCIONES

<html>
  <div style='float:left'></div>
  <hr color='#EB811B' size=1px width=1125px>
</html>



---
# Funciones

#### - __La funci√≥n__ es una operaci√≥n que nos ayuda a resolver un problema que de otra forma llevar√≠a m√°s pasos/tiempo.

#### - __Una funci√≥n__ tiene _nombre_, el cual suele (intenta) ser intuitivo respecto a la acci√≥n que realiza (el problema que resuelve).

```{r echo=FALSE, out.height = 250, out.width = 550, fig.align='center'}
#knitr::include_graphics(here("img", "funcion_desc.png"))
knitr::include_graphics(here::here("img/funcion_desc.png"))
```

---
# Funciones

```{r echo=FALSE, out.width= '70%'}
knitr::include_graphics(here::here("img/clase_1/R1.PNG"))
```

---
# Funciones

```{r echo=FALSE, out.width= '70%'}
knitr::include_graphics(here::here("img/clase_1/R2.PNG"))
```

---
# Funciones

```{r echo=FALSE, out.width= '70%'}
knitr::include_graphics(here::here("img/clase_1/R3.PNG"))
```

---
# Funciones

```{r echo=FALSE, out.width= '70%'}
knitr::include_graphics(here::here("img/clase_1/R4.PNG"))
```

---
# Funciones

```{r echo=FALSE, out.width= '70%'}
knitr::include_graphics(here::here("img/clase_1/R5.PNG"))
```

---

#Paquetes    

<br>

#### INSTALACI√ìN

- Podemos descargarlos e instalarlos con el siguiente comando: 

```r
 `install.packages("nombre_del_paquete")`
```

- S√≥lo es necesario instalar el paquete una vez por computadora.

---

#Paquetes  

#### INVOCACI√ìN

.pull-left[

- Una vez instalado, cada vez que abramos una nueva sesi√≥n de R y querramos utilizar el paquete debemos **cargarlo al ambiente de trabajo** mediante la funci√≥n:    

```r
 `library(nombre_del_paquete)`
```
]

.pull-right[

```{r echo=FALSE, eval=TRUE, out.width= '500px'}

knitr::include_graphics(here::here("img/clase_1/invocacion.gif"))

```
]

---
# Funciones - Ejemplos

#### - La funci√≥n `class()` eval√∫a el tipo (num√©rico, c√°racter) de un elemento

#### Evaluemos de qu√© tipo es el valor `2`
```{r}
class(2)
```
<br>

--

#### ¬øy el valor `"dos"`?
```{r}
class("dos")
```

---
# Funciones

<br>

#### - Otras funciones nos permiten incluir m√°s de un argumento. En este caso, cada uno de ellos se separa con una coma (`,`).

- `sum()` permite _sumar_ varios valores num√©ricos:

```{r}
sum(2, 5, 10)
```

---
# Funciones

<br>

- `paste0()` permite _pegar_ varios valores de tipo texto:

```{r}
paste0("Esto", "es", "un texto", "con", "seis", "valores")
```


---
# Funciones

#### - Ciertas funciones tambi√©n incluyen `par√°metros`, los cuales agregan _especificaciones_ que hacemos a la operaci√≥n que realiza la funci√≥n.

--

El par√°metro `sep = ` permite definir un separador entre cada argumento.

```{r}
paste("Esto", "es", "un texto", "con", "seis", "valores", sep = "_")
```

---
class: inverse, middle, center, hide-logo

# PR√ÅCTICA

<html>
  <div style='float:left'></div>
  <hr color='#EB811B' size=1px width=1125px>
</html>


---
class: inverse, middle, hide-logo

# Pr√°ctica

1. Sumar dos o m√°s valores sin utilizar una funci√≥n

1. Crear un vector num√©rico que contenga 7 valores

1. Crear un vector de texto que contenga 3 valores 

1. Verificar de qu√© tipo es el valor "67" (comprobar con comillas y sin comillas)

1. Pegar dos o m√°s valores de tipo _character_ (texto), cada uno separado por un espacio en blanco

`r countdown(minutes = 5, seconds = 0, update_every = 15)`


---
class: middle, center

# Descanso

```{r echo=FALSE}
library(countdown)

contador <- countdown(minutes = 10, bottom = 0, warn_when = 60, blink_colon = TRUE, play_sound=here::here("encuentros/1-intro-r/images/inst_adlibs_birdman1.wav"))
```

`r contador`

---
class: inverse, center, middle, hide-logo

# OBJETOS

<html>
  <div style='float:left'></div>
  <hr color='#EB811B' size=1px width=1125px>
</html>



---
# Objetos

- En R cualquier elemento puede ser _asignado_ a (guardado en) un objeto.

- Al objeto debemos definirlo por un nombre (elige tu propia aventura) y _asignarle_ el contenido:


```{r echo=FALSE, out.height=300, out.width= 600, fig.align='center'}
#knitr::include_graphics(here("img", "objeto_nuevo.png"))
knitr::include_graphics(here::here("img/objeto_nuevo.png"))
```



---
#Objetos

- Al igual que _valores_ y _vectores_, hay diferentes _tipos_ de objetos:

--

#### - Objeto num√©rico (_numeric_)
```{r}
edad <- c(24, 56, 75, 42, 99)
```

--

#### - Objeto de texto (_character_)
```{r}
nombre <- c("D'rtanian", "Rigoberta", "Menganita", "Juancito", "Estanislao")
```

--

#### - (otro) objeto de texto (_character_)
```{r}
nombre_y_apellido <- c("D'artanian estrujillo", "Rigoberta manchuria", "Menganita fulaique", 
                       "Juancito loquillo", "Estanislao leningrado")
```

---
# Objetos

```{r echo=FALSE, out.height=400, out.width= 750, fig.align='center'}
#knitr::include_graphics(here("img", "objeto_ambiente.png"))
knitr::include_graphics(here::here("img/objeto_ambiente.png"))
```


---
# Objetos

#### - Para ver el contenido de un objeto, simplemente debemos escribir su nombre y ejecutar en el script o la consola

```{r}
edad
```

```{r}
nombre_y_apellido
```


---
# Nombrando objetos

.panelset[

.panel[.panel-name[Reglas]


üö´ No se aceptan espacios


Objeto llamado ~~`nombre y apellido`~~



üö´ No se puede empezar con un n√∫mero


Objeto llamado ~~`1_objeto`~~


]

.panel[.panel-name[Sugerencias]


üëéüèº Evitar s√≠mbolos (&, ^, /, !) y acentos


Objeto llamado `pa√≠ses`


üëéüèº Evitar que objetos y funciones tengan el mismo nombre

]


.panel[.panel-name[Convenciones]



üëçüèº todoenminuscula

üëçüèº TODOENMAYUSCULA

üëçüèº espacio.con.punto

ü§òüèº espacio_con_guion_bajo


]
]



---
class: inverse, middle, center, hide-logo


# DATA FRAMES (bases de datos)

<html>
  <div style='float:left'></div>
  <hr color='#EB811B' size=1px width=1125px>
</html>



---
# Data frames

El elemento `data.frame` es lo que conocemos como una _base de datos_: Filas (casos) y columnas (variables) relacionadas entre s√≠:

```{r echo=FALSE, out.height=350, out.width= 600, fig.align='center'}
#knitr::include_graphics(here("img", "data_frames.png"))
knitr::include_graphics(here::here("img/data_frames.png"))
```


---
# Data frames

- La funci√≥n `data.frame()` nos permite crear una base de datos vinculando vectores:

```{r}
data.frame(nombre_y_apellido, edad) #<<
```

--

- Podemos guardarlo en un objeto:

```{r}
base_personas <- data.frame(nombre_y_apellido, edad) 
```


---
# Data frames

- #### Algunas funciones para trabajar con los data frames:

```{r}
dim(base_personas) #<<
```

```{r}
summary(base_personas) #<<
```


---
# Importar una base de datos

### CASO:

- Queremos traer la base con los datos del formulario de relevamiento para el √çndice de Transparencia 2024 


---
# Importaci√≥n: PLAN A


#### **Paso 1:** Descargar la base y guardarla en una carpeta de la computadora

---
# Importaci√≥n: PLAN A

#### **Paso 2:** Seg√∫n la extensi√≥n del archivo (*nombre_del_archivo`.algo`*), elegir la funci√≥n en r para importar:

--

```r
### Cargo la librer√≠a
library(readxl)

### Importo base de datos
base_indice_transparencia <- read`_xlsx`(path = "/home/pablote/Pablo/Proyectos/Estaci√≥n R/Consultor√≠a/intro_r_aaip/datos/relevamiento_indice_transparencia_2024.xlsx")
```

```{r include=FALSE}
library(readxl)
base_indice_transparencia <- read_xlsx(path = "/home/pablote/Pablo/Proyectos/Estaci√≥n R/Consultor√≠a/intro_r_aaip/datos/relevamiento_indice_transparencia_2024.xlsx")
```

--

***tip:*** _si est√°s trabajando en Windows, la barra que separa cada carpeta de una ruta que pegues ser√° `\` (ej: ruta_archivo\archivo.csv), pero la que acepta R es `/` (ej: ruta_archivo/archivo.csv)_


---
# PLAN B

#### Paso 1: En la pesta√±a **Environment --> Import Dataset**, elegimos la opci√≥n acorde a la extensi√≥n del archivo.

```{r echo=FALSE, out.width='80%', fig.align='center'}
knitr::include_graphics(here::here("img/import_1.png"))
```


---
# Chequeamos la operaci√≥n con alguna funci√≥n

```r
 `head(base_indice_transparencia)`
```

```{r echo=FALSE}
head(base_indice_transparencia)
```


---
# Chequeamos la operaci√≥n con alguna funci√≥n

```r
 `str(base_indice_transparencia)`
```

```{r echo = FALSE}
str(base_indice_transparencia)
```


---
# Lectura / importaci√≥n de datos

- A tener en cuenta respecto a la ruta donde se ubica el archivo:

```{r eval=FALSE}
base_indice_transparencia <- read.table(
  file = "/home/pablote/Pablo/Proyectos/Estaci√≥n R/Consultor√≠a/intro_r_aaip/datos/relevamiento_indice_transparencia_2024.xslx", #<<
  header = TRUE, 
  sep = ";", 
  dec = ",")
```

--

- Si se la compartimos a otra persona, __se rompe__
    
- Si cambiamos de computadora, __se rompe__
    
- Si lo cambiamos de lugar, __se rompe__
   
---
class: middle, center

> ## Pr√≥xima clase: Armar un proyecto de Trabajo con Rstudio
